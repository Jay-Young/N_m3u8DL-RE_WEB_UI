var c=(i,r,t)=>new Promise((e,a)=>{var n=o=>{try{s(t.next(o))}catch(p){a(p)}},l=o=>{try{s(t.throw(o))}catch(p){a(p)}},s=o=>o.done?e(o.value):Promise.resolve(o.value).then(n,l);s((t=t.apply(i,r)).next())});import{u as f}from"./form-weeuivWV.js";import{s as h,i as b}from"./bootstrap-lHTY6Y-e.js";import{a as g}from"./index-CVNh7lX4.js";import{C as _}from"./index-C0B7FKrt.js";import{_ as w}from"./page.vue_vue_type_script_setup_true_lang-4WYL5wM9.js";import{V as N,X as P,ac as V,ad as d,S as m,ab as C,n as u}from"../jse/index-index-j8hGa-Ht.js";const B=N({__name:"add",setup(i){const[r]=f({commonConfig:{componentProps:{class:"w-full"}},handleSubmit:t,layout:"horizontal",schema:[{component:"Input",componentProps:{placeholder:"请输入下载链接"},fieldName:"url",label:"下载链接",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入保存文件名"},fieldName:"title",label:"文件名",rules:"required"},{component:"Input",componentProps:{placeholder:"请输入"},fieldName:"saveFilePaths",defaultValue:"/download",label:"保存目录",rules:h().default("默认值").optional()},{component:"Switch",defaultValue:!1,fieldName:"setmore",componentProps:{class:"w-auto"},help:"打开可以配置更多下载信息",label:"设置更多"},{component:"InputNumber",componentProps:{placeholder:"请输入下载并发线程数量"},dependencies:{if(e){return!!e.setmore},triggerFields:["setmore"]},help:"下载并发线程数量,默认运行主机CPU线程数",defaultValue:12,fieldName:"threadCountss",label:"下载线程"},{component:"InputNumber",componentProps:{placeholder:"请输入下载出错时重试次数"},dependencies:{if(e){return!!e.setmore},triggerFields:["setmore"]},help:"下载错误时重试次数,默认5次",fieldName:"retrycounts",defaultValue:5,label:"出错重试"},{component:"Switch",defaultValue:!0,fieldName:"setbinaryMeMrges",componentProps:{class:"w-auto"},dependencies:{if(e){return!!e.setmore},triggerFields:["setmore"]},label:"二进制合并"},{component:"Switch",defaultValue:!0,fieldName:"setdecryptions",dependencies:{if(e){return!!e.setmore},triggerFields:["setmore"]},componentProps:{class:"w-auto"},label:"实时解密分片"}],wrapperClass:"grid-cols-1"});function t(e){return c(this,null,function*(){JSON.stringify(e);const{code:a,data:n,msg:l}=yield g(e);a===0&&(b.success({content:`${l}`}),console.log(n))})}return P("1"),(e,a)=>(C(),V(m(w),null,{default:d(()=>[u(m(_),{title:"新建下载任务"},{default:d(()=>[u(m(r))]),_:1})]),_:1}))}});export{B as default};
